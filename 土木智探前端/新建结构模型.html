<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>结构模型界面</title>
    <style>
        body {
            text-align: center;
            background-image: url("background.png");
            background-size: cover;
            /* 设置背景满铺 */
            background-attachment: fixed;
        }

        .white {
            color: white;
        }

        #modelPreview {
            width: 100%;
            height: 500px; /* 设置画布大小 */
        }
    </style>
</head>

<body>
    <img src="同济大学背景题头.png" style="width: 100%; object-position: center;">

    <h1 class="white">1.结构模型输入与编辑</h1>

    <h1>新建结构模型</h1>

    <form id="modelForm">
        <label>输入模型尺寸（长, 宽, 高）：</label>
        <input type="text" id="dimensions" name="dimensions" placeholder="长度,宽度,高度"><br><br>

        <input type="file" id="fileUpload" name="fileUpload"><br><br>

        <button type="button" onclick="uploadModel()">上传模型</button>
        <button type="button" onclick="plotModel()">显示模型</button>
    </form>

    <div id="modelPreview"></div> <!-- 用于渲染三维模型的画布 -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        function plotModel() {
            const dimensions = document.getElementById('dimensions').value;

            // 创建场景、相机和渲染器
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, 500); // 设置渲染器的大小
            document.getElementById('modelPreview').appendChild(renderer.domElement);

            // 创建一个立方体模型并添加到场景中
            const geometry = new THREE.BoxGeometry(1, 1, 1);
            const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
            const cube = new THREE.Mesh(geometry, material);
            scene.add(cube);

            // 设置相机位置
            camera.position.z = 5;

            // 渲染场景
            const animate = function () {
                requestAnimationFrame(animate);

                // 使立方体旋转
                cube.rotation.x += 0.01;
                cube.rotation.y += 0.01;

                renderer.render(scene, camera);
            };

            animate();
        }

        function uploadModel() {
            // 实现上传模型的逻辑
        }
    </script>
</body>
</html>
